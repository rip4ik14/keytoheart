import { Metadata } from 'next';
import Link from 'next/link'; // Добавляем импорт Link
import { JsonLd } from 'react-schemaorg';
import type { WebPage } from 'schema-dts'; // Добавляем импорт типа WebPage
import PolicyLink from '@components/PolicyLink';
import ContactLink from '@components/ContactLink';

export const metadata: Metadata = {
  title: 'Политика конфиденциальности | KeyToHeart',
  description:
    'Политика конфиденциальности KeyToHeart. Узнайте, как мы защищаем ваши персональные данные в соответствии с законодательством РФ (152-ФЗ).',
  keywords: ['политика конфиденциальности', 'KeyToHeart', 'персональные данные', '152-ФЗ', 'Краснодар', 'доставка цветов'],
  openGraph: {
    title: 'Политика конфиденциальности | KeyToHeart',
    description: 'Как KeyToHeart защищает ваши персональные данные в соответствии с законодательством РФ.',
    url: 'https://keytoheart.ru/policy',
    siteName: 'KeyToHeart',
    images: [
      {
        url: 'https://keytoheart.ru/og-cover.jpg',
        width: 1200,
        height: 630,
        alt: 'KeyToHeart — политика конфиденциальности',
      },
    ],
    type: 'website',
  },
  twitter: {
    card: 'summary_large_image',
    title: 'Политика конфиденциальности | KeyToHeart',
    description: 'Как KeyToHeart защищает ваши персональные данные.',
    images: ['https://keytoheart.ru/og-cover.jpg'],
  },
  alternates: { canonical: 'https://keytoheart.ru/policy' },
};

export const revalidate = 86400;

export default function PolicyPage() {
  return (
    <main className="bg-white text-black" aria-label="Политика конфиденциальности">
      <JsonLd<WebPage> // Указываем тип схемы
        item={{
          '@type': 'WebPage', // Удаляем '@context', так как JsonLd добавляет его автоматически
          name: 'Политика конфиденциальности | KeyToHeart',
          url: 'https://keytoheart.ru/policy',
          description: 'Политика конфиденциальности интернет-магазина KeyToHeart в соответствии с 152-ФЗ.',
        }}
      />
      <section className="container mx-auto px-4 py-10 max-w-4xl text-sm leading-relaxed text-black space-y-6">
        <h1 className="text-2xl sm:text-3xl font-sans font-bold text-center">
          Политика конфиденциальности персональных данных
        </h1>
        <p>
          Настоящая Политика конфиденциальности персональных данных (далее – Политика
          конфиденциальности) действует в отношении всей информации, которую сайт
          KeyToHeart, расположенный на доменном имени{' '}
          <Link href="/" className="underline hover:text-gray-600 transition-colors duration-300">
            keytoheart.ru
          </Link>{' '}
          (а также его субдоменах), может получить о Пользователе во время использования
          сайта, его программ и продуктов.
        </p>

        <h2 className="text-lg font-semibold">1. Определение терминов</h2>
        <ol className="list-decimal pl-5 space-y-1">
          <li>
            <strong>Администрация сайта</strong> – уполномоченные сотрудники,
            действующие от имени ИП Рашевская Регина Сергеевна (ИНН 234810526700,
            ОГРНИП 324237500032680), которые организуют и осуществляют обработку
            персональных данных, определяют цели обработки, состав данных и операции
            с ними.
          </li>
          <li>
            <strong>Персональные данные</strong> – любая информация, относящаяся к
            прямо или косвенно определяемому физическому лицу.
          </li>
          <li>
            <strong>Обработка персональных данных</strong> – любое действие или
            совокупность действий с использованием средств автоматизации или без таковых:
            сбор, систематизация, хранение, уточнение, использование, распространение,
            обезличивание, удаление и т. д.
          </li>
          <li>
            <strong>Конфиденциальность персональных данных</strong> – обязательное
            требование не допускать распространения данных без согласия субъекта или
            иного законного основания.
          </li>
          <li>
            <strong>Cookies</strong> – небольшой фрагмент данных, отправляемый сервером
            и хранимый на устройстве Пользователя.
          </li>
          <li>
            <strong>IP-адрес</strong> – уникальный сетевой адрес узла в компьютерной сети.
          </li>
          <li>
            <strong>Сайт KeyToHeart</strong> – совокупность веб-страниц под доменом
            keytoheart.ru и его субдоменами.
          </li>
          <li>
            <strong>Пользователь</strong> – лицо, использующее сайт KeyToHeart через
            Интернет.
          </li>
        </ol>

        <h2 className="text-lg font-semibold">2. Общие положения</h2>
        <ol className="list-decimal pl-5 space-y-1">
          <li>
            Использование сайта означает полное и безоговорочное согласие Пользователя
            с условиями этой Политики.
          </li>
          <li>
            При несогласии с условиями Пользователь должен прекратить использование сайта.
          </li>
          <li>
            Политика применяется ко всем субдоменам keytoheart.ru. Администрация не
            контролирует сторонние ресурсы по внешним ссылкам.
          </li>
          <li>
            Администрация не проверяет достоверность персональных данных,
            предоставляемых Пользователем, но принимает меры для их защиты.
          </li>
        </ol>

        <h2 className="text-lg font-semibold">3. Предмет политики конфиденциальности</h2>
        <p>
          Настоящая Политика устанавливает обязательства Администрации по защите
          конфиденциальности персональных данных, которые Пользователь предоставляет:
        </p>
        <ul className="list-disc pl-5 space-y-1">
          <li>При регистрации на сайте;</li>
          <li>При оформлении заказа;</li>
          <li>При подписке на информационную e-mail рассылку;</li>
          <li>При использовании форм обратной связи;</li>
          <li>При участии в программе лояльности.</li>
        </ul>

        <h2 className="text-lg font-semibold">4. Состав обрабатываемых персональных данных</h2>
        <ul className="list-disc pl-5 space-y-1">
          <li>Фамилия, имя, отчество Пользователя;</li>
          <li>Контактный телефон;</li>
          <li>Адрес электронной почты (e-mail);</li>
          <li>Адрес доставки товара;</li>
          <li>Комментарии к заказу (при необходимости);</li>
          <li>IP-адрес, данные Cookies, информация о браузере;</li>
          <li>Любые другие данные, которые Пользователь добровольно предоставил.</li>
        </ul>

        <h2 className="text-lg font-semibold">5. Цели обработки персональных данных</h2>
        <ul className="list-disc pl-5 space-y-1">
          <li>Идентификация Пользователя;</li>
          <li>Оформление, доставка и оплата заказов;</li>
          <li>Установление обратной связи, отправка уведомлений;</li>
          <li>Предоставление персонализированного сервиса;</li>
          <li>Начисление бонусов в рамках программы лояльности;</li>
          <li>Проведение маркетинговых рассылок с согласия Пользователя;</li>
          <li>Аналитика и улучшение качества услуг.</li>
        </ul>

        <h2 className="text-lg font-semibold">6. Способы и сроки обработки данных</h2>
        <ol className="list-decimal pl-5 space-y-1">
          <li>
            Обработка осуществляется автоматизированными и/или иными способами без
            ограничения срока, если иное не предусмотрено законодательством.
          </li>
          <li>
            Администрация вправе передавать данные третьим лицам (курьерским службам,
            платежным провайдерам) исключительно для исполнения заказа.
          </li>
          <li>
            Персональные данные могут передаваться уполномоченным органам власти
            РФ по основаниям, установленным законодательством.
          </li>
        </ol>

        <h2 className="text-lg font-semibold">7. Защита персональных данных</h2>
        <p>
          Для защиты данных Администрация применяет организационные и технические
          меры: шифрование, бэкапы, ограничение доступа, использование безопасных
          протоколов передачи (HTTPS). Все данные хранятся на серверах, соответствующих
          требованиям законодательства РФ.
        </p>

        <h2 className="text-lg font-semibold">8. Права и обязанности сторон</h2>
        <ul className="list-disc pl-5 space-y-1">
          <li>
            Пользователь вправе получать информацию об обработке своих данных,
            требовать уточнения, блокирования или удаления персональных данных;
          </li>
          <li>
            Пользователь может отозвать согласие на обработку данных, направив запрос на{' '}
            <ContactLink
              href="mailto:info@keytoheart.ru"
              label="Отправить письмо на info@keytoheart.ru"
              type="email"
            />;
          </li>
          <li>
            Администрация обязана использовать данные строго в рамках Политики,
            обеспечивать их конфиденциальность и не передавать третьим лицам без
            оснований.
          </li>
        </ul>

        <h2 className="text-lg font-semibold">9. Использование Cookies</h2>
        <p>
          Сайт использует Cookies для улучшения пользовательского опыта, аналитики и
          персонализации. Пользователь может отключить Cookies в настройках браузера,
          но это может ограничить функциональность сайта. Подробнее о Cookies читайте
          в нашей <PolicyLink page="policy" />.
        </p>

        <h2 className="text-lg font-semibold">10. Ответственность и разрешение споров</h2>
        <p>
          Администрация несёт ответственность за нарушение условий Политики в
          соответствии с законодательством РФ. Все споры решаются путём переговоров,
          а при недостижении согласия – в Арбитражном суде Краснодарского края.
        </p>

        <h2 className="text-lg font-semibold">11. Дополнительные условия</h2>
        <ol className="list-decimal pl-5 space-y-1">
          <li>
            Администрация вправе вносить изменения в Политику без уведомления
            Пользователя. Актуальная версия всегда доступна на этой странице.
          </li>
          <li>
            По вопросам обработки персональных данных обращаться:
            <br />
            <ContactLink
              href="tel:+79886033821"
              label="Позвонить по номеру +7 (988) 603-38-21"
              type="phone"
            />
            <br />
            Email:{' '}
            <ContactLink
              href="mailto:info@keytoheart.ru"
              label="Отправить письмо на info@keytoheart.ru"
              type="email"
            />
          </li>
        </ol>

        <p className="text-xs text-gray-500">Обновлено: 24 апреля 2025 г.</p>
      </section>
    </main>
  );
}